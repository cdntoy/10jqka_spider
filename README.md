# 同花顺板块数据爬虫 v1.6.0

自动化爬取同花顺金融平台的股票板块数据（同花顺行业、概念、地域）。

## 功能特性

- 🔄 CDN代理IP轮换，绕过访问限制
- 🔐 自动登录，滑块验证码识别
- 📊 爬取三类板块：同花顺行业、概念、地域
- 🧵 多线程并发，高效爬取
- 📁 CSV格式输出，按日期归档

## 快速开始

```bash
pip install -r requirements.txt
python3 main.py -u <用户名> -p <密码>
```

## 参数

| 参数 | 说明 | 默认 |
|------|------|------|
| `-u` | 用户名 | 必填 |
| `-p` | 密码 | 必填 |
| `-H` | 线程数 | 64 |
| `-b` | 请求间隔(秒) | 1 |
| `-t` | 超时(秒) | 10 |
| `-d` | 本地直连模式（仅测试用，强制单线程） | - |
| `-v` | 显示版本号 | - |

## 输出

```
result/20251121/
├── 20251121143025_同花顺行业板块信息.csv
├── 20251121143025_同花顺行业板块代码.csv
├── 20251121143025_概念板块信息.csv
├── 20251121143025_概念板块代码.csv
├── 20251121143025_地域板块信息.csv
└── 20251121143025_地域板块代码.csv
```

## 技术架构

```
requests → CDN适配器 → 百度CDN(110.242.70.68) → 同花顺
```

- 纯Python，无需编译
- 无需启动代理服务器，直接内部转发
- CDN负载均衡自动分配出口IP (180.101.81.x)
- 完整Chrome浏览器请求头伪装
- 高斯分布随机延迟，模拟人工操作

## 项目结构

```
10jqka_spider/
├── main.py          # 主程序
├── cookies.py       # 登录和Cookie管理
├── encrypt.py       # RSA/AES加密
├── cdn_adapter.py   # CDN转发适配器
├── requirements.txt # 依赖包
└── tests/           # 单元测试
```

## 依赖

- requests - HTTP客户端
- pycryptodome - RSA/AES加密
- ddddocr - 验证码识别
- pyexecjs - JavaScript执行

## 注意

仅供学习研究，请遵守相关法规。
